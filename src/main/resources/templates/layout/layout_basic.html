<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<th:block th:fragment="setContent(content)">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>CLOUD MAP</title>
        <link rel="stylesheet" th:href="@{//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css}">
        <link rel="stylesheet" th:href="@{/css/main.css}">

        <script th:src='@{//cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js}'></script>
        <script type="text/javascript" th:src="@{//dapi.kakao.com/v2/maps/sdk.js?appkey=ef305f63a71a127db21e1424217901ef}"></script>
        <script th:src="@{/js/main.js}"></script>
    </head>
    <body>

    <input type="checkbox" id="check">
    <!--헤더 시작-->
    <header>
        <label for="check">
            <i class="fas fa-bars" id="sidebar_btn"></i>
        </label>
        <div class="left_area">
            <h3>CLOUD <span>MAP</span></h3>

        </div>
        <div class="right_area">

        </div>
    </header>
    <!--헤더 끝-->
    <!--모바일 메뉴 시작-->
<!--    <div class="mobile_nav">-->
<!--        <div class="nav_bar">-->
<!--            <th:block th:each="entry : ${#authentication.principal.attr}">-->
<!--                <img th:src="${entry.value}" th:if="${entry.key == 'picture'}" class="mobile_profile_image"></img>-->
<!--            </th:block>            <i class="fa fa-bars nav_btn"></i>-->
<!--        </div>-->
<!--        <div class="mobile_nav_item">-->
<!--            <p>내용</p>-->
<!--            <p>내용</p>-->
<!--            <p>내용</p>-->
<!--            <p>내용</p>-->
<!--        </div>-->
<!--    </div>-->

    <div class="mobile_nav">
        <div class="nav_bar">
            <th:block th:each="entry : ${#authentication.principal.attr}">
                <img th:src="${entry.value}" th:if="${entry.key == 'picture'}" class="mobile_profile_image"></img>
            </th:block>
            <i class="fa fa-bars nav_btn"></i>
        </div>
        <div class="slide-box">
            <div class="friend" id="scroll">
                <ul class="friend-list">
                    <li><a href="#">친구1</a></li>
                    <li><a href="#">친구2</a></li>
                    <li><a href="#">친구3</a></li>
                    <li><a href="#">친구4</a></li>

                    <li><a href="#">친구5</a></li>
                    <li><a href="#">친구1</a></li>
                    <li><a href="#">친구2</a></li>
                    <li><a href="#">친구3</a></li>
                    <li><a href="#">친구4</a></li>

                    <li><a href="#">친구5</a></li>
                    <li><a href="#">친구1</a></li>
                    <li><a href="#">친구2</a></li>
                    <li><a href="#">친구3</a></li>
                    <li><a href="#">친구4</a></li>

                    <li><a href="#">친구5</a></li>
                    <li><a href="#">친구1</a></li>
                    <li><a href="#">친구2</a></li>
                    <li><a href="#">친구3</a></li>
                    <li><a href="#">친구4</a></li>

                    <li><a href="#">친구5</a></li>
                    <li><a href="#">친구1</a></li>
                    <li><a href="#">친구2</a></li>
                    <li><a href="#">친구3</a></li>
                    <li><a href="#">친구4</a></li>

                    <li><a href="#">친구5</a></li>
                </ul>
            </div>
            <div class="logout">
                <th:block th:if="${#authentication.isAuthenticated()}">
                    <th:block th:if="${#authentication.principal.attr != null}">
                        <a th:if="${#authentication.principal.attr.clientName == 'kakao'}" th:href="@{https://kauth.kakao.com/oauth/logout(client_id=0c90a244b5317711f920544975d0409c,logout_redirect_uri=${url})}" th:with="url=${#strings.replace(#httpServletRequest.getRequestURL(),#httpServletRequest.getRequestURI(),#httpServletRequest.getContextPath()+'/logout')}">LOGOUT</a>
                        <a th:unless="${#authentication.principal.attr.clientName == 'kakao'}" th:href="@{/logout}">LOGOUT</a>
                    </th:block>
                    <a th:unless="${#authentication.principal.attr != null}" th:href="@{/logout}">LOGOUT</a>
                </th:block>
            </div>
        </div>

    </div>


    <!--모바일 메뉴 끝-->
    <!--사이드바 시작-->
    <div class="sidebar">
        <div class="profile_info">
            <th:block th:each="entry : ${#authentication.principal.attr}">
                <img th:src="${entry.value}" th:if="${entry.key == 'picture'}" class="profile_image"></img>
            </th:block>
            <h4>[[${#authentication.principal.name}]]</h4>
            <h3>[[${#authentication.principal.email}]]</h3>
        </div>
        <!-- <div>
          <p>내용</p>
          <p>내용</p>
          <p>내용</p>
          <p>내용</p>
        </div> -->
        <div class="box">
            <ul class="friend-list-title">
                <li><label>친구목록</label></li>
            </ul>
            <ul class="friend-list">
                <li><a href="#">친구1</a></li>
                <li><a href="#">친구2</a></li>
                <li><a href="#">친구3</a></li>
                <li><a href="#">친구4</a></li>
                <li><a href="#">친구5</a></li>
                <li><a href="#">친구6</a></li>
                <li><a href="#">친구7</a></li>
                <li><a href="#">친구8</a></li>
                <li><a href="#">친구9</a></li>

            </ul>
        </div>
        <div class="logout">
            <th:block th:if="${#authentication.isAuthenticated()}">
                <th:block th:if="${#authentication.principal.attr != null}">
                    <a th:if="${#authentication.principal.attr.clientName == 'kakao'}" th:href="@{https://kauth.kakao.com/oauth/logout(client_id=0c90a244b5317711f920544975d0409c,logout_redirect_uri=${url})}" th:with="url=${#strings.replace(#httpServletRequest.getRequestURL(),#httpServletRequest.getRequestURI(),#httpServletRequest.getContextPath()+'/logout')}">LOGOUT</a>
                    <a th:unless="${#authentication.principal.attr.clientName == 'kakao'}" th:href="@{/logout}">LOGOUT</a>
                </th:block>
                <a th:unless="${#authentication.principal.attr != null}" th:href="@{/logout}">LOGOUT</a>
            </th:block>
        </div>
    </div>
    <!--사이드바 끝-->
    <!-- 컨텐츠-->
    <div class="content">
        <th:block th:replace="${content}"></th:block>
    </div>
    </body>
    <script th:src="@{/js/kakaomap.js}"></script>
</th:block>
</html>
